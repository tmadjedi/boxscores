<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<div class="container">
    <ul class="nav">
        <li class="nav-item">
            <a class="nav-link" href="/">
                Scoreboard
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/standings">
                Standings
            </a>
        </li>
    </ul>
    <ul class="nav">
        <li class="nav-item">
            <a class="nav-link" href="/boxscore/{{ boxscore['basicGameData']['startDateEastern'] }}/{{ boxscore['basicGameData']['gameId'] }}/full">
                Full
            </a>
        </li>
    </ul>
</div>
<div class="container">
    <h3>
        {{boxscore['basicGameData']['vTeam']['triCode']}} 
        ({{boxscore['basicGameData']['vTeam']['win']}}-{{boxscore['basicGameData']['vTeam']['loss']}}) 
        @ {{boxscore['basicGameData']['hTeam']['triCode']}}
        ({{boxscore['basicGameData']['hTeam']['win']}}-{{boxscore['basicGameData']['hTeam']['loss']}})
    </h3>
</div>
<div class="container">
    <table class="table table-sm">
        <tr>
            <th>TEAM</th>
        {% for q in boxscore['basicGameData']['vTeam']['linescore'] %}
            <th>
        {% if loop.index <= 4 %}
           Q{{loop.index}}
        {% else %}
           OT{{loop.index - 4}}
        {% endif %}
            </th>
        {% endfor %}
            <th>SCORE</th>
        </tr>
        <tr {% if boxscore['basicGameData']['vTeam']['score']|int() > boxscore['basicGameData']['hTeam']['score']|int()
               and boxscore['basicGameData']['statusNum'] == 3 %} style="font-weight: bold;"{% endif %}>
            <td>{{boxscore['basicGameData']['vTeam']['triCode']}}</td>
        {% for q in boxscore['basicGameData']['vTeam']['linescore'] %}
        <td>{{q['score']}}</td>
        {% endfor %}
            <td>{{boxscore['basicGameData']['vTeam']['score']}}</td>
        </tr>
        <tr {% if boxscore['basicGameData']['hTeam']['score']|int() > boxscore['basicGameData']['vTeam']['score']|int()
               and boxscore['basicGameData']['statusNum'] == 3 %} style="font-weight: bold;"{% endif %}>
            <td>{{boxscore['basicGameData']['hTeam']['triCode']}} </td>
        {% for q in boxscore['basicGameData']['hTeam']['linescore'] %}
            <td>{{q['score']}}</td>
        {% endfor %}
            <td>{{boxscore['basicGameData']['hTeam']['score']}}</td>
        </tr>
    </table>
</div>
{% if boxscore['basicGameData']['isGameActivated'] %}
<div class="container">
    <div class="col">
    {% if boxscore['basicGameData']['period']['isHalftime'] %}
        Halftime
    {% elif boxscore['basicGameData']['period']['isEndOfPeriod'] %}
        End of period {{boxscore['basicGameData']['period']['current']}}
    {% else %}
        {{boxscore['basicGameData']['clock']}} in period {{boxscore['basicGameData']['period']['current']}}
    {% endif %}
    </div>
</div>
{% endif %}
<div class="container">
{% for teamType, teamId, triCode in [('vTeam', boxscore['basicGameData']['vTeam']['teamId'], boxscore['basicGameData']['vTeam']['triCode']),
                                     ('hTeam', boxscore['basicGameData']['hTeam']['teamId'], boxscore['basicGameData']['hTeam']['triCode'])] %}
    <h4>{{ triCode }}</h4>
    <table class="table table-sm table-striped table-responsive">
        <tr>
            <th>PLAYER</th>
            <th>POS</th>
            <th>MIN</th>
            <th>FGM</th>
            <th>FGA</th>
            <th>REB</th>
            <th>AST</th>
            <th>STL</th>
            <th>BLK</th>
            <th>PTS</th>
        </tr>
        {% for player in boxscore['stats']['activePlayers'] if player['teamId'] == teamId %}
        <tr>
            <td>
                {{player['playerName']}}
            </td>
            <td>
                {{player['pos']}}
            </td>
            <td>
                {{player['min']}}
            </td>
            <td>
                {{player['fgm']}}
            </td>
            <td>
                {{player['fga']}}
            </td>
            <td>
                {{player['totReb']}}
            </td>
            <td>
                {{player['assists']}}
            </td>
            <td>
                {{player['steals']}}
            </td>
            <td>
                {{player['blocks']}}
            </td>
            <td>
                {{player['points']}}
            </td>
        </tr>
    {% endfor %}
        <tr style="font-weight: bold;">
            <td>
            </td>
            <td>
            </td>
            <td>
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fgm']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fga']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['totReb']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['assists']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['steals']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['blocks']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['points']}}
            </td>
        </tr>
    </table>
{% endfor %}
</div>
