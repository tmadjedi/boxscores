<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<div class="container">
    <nav class="navbar">
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="/">
                Scoreboard
            </a>
        </div>
    </nav>
</div>
<div class="container">
    <table class="table table-sm">
        <tr>
            <th>TEAM</th>
        {% for q in boxscore['basicGameData']['vTeam']['linescore'] %}
            <th>
        {% if loop.index <= 4 %}
           Q{{loop.index}}
        {% else %}
           OT{{loop.index - 4}}
        {% endif %}
            </th>
        {% endfor %}
            <th>SCORE</th>
        </tr>
        <tr {% if boxscore['basicGameData']['vTeam']['score']|int() > boxscore['basicGameData']['hTeam']['score']|int()
               and boxscore['basicGameData']['statusNum'] == 3 %} style="font-weight: bold;"{% endif %}>
            <td>{{boxscore['basicGameData']['vTeam']['triCode']}}</td>
        {% for q in boxscore['basicGameData']['vTeam']['linescore'] %}
        <td>{{q['score']}}</td>
        {% endfor %}
            <td>{{boxscore['basicGameData']['vTeam']['score']}}</td>
        </tr>
        <tr {% if boxscore['basicGameData']['hTeam']['score']|int() > boxscore['basicGameData']['vTeam']['score']|int()
               and boxscore['basicGameData']['statusNum'] == 3 %} style="font-weight: bold;"{% endif %}>
            <td>{{boxscore['basicGameData']['hTeam']['triCode']}} </td>
        {% for q in boxscore['basicGameData']['hTeam']['linescore'] %}
            <td>{{q['score']}}</td>
        {% endfor %}
            <td>{{boxscore['basicGameData']['hTeam']['score']}}</td>
        </tr>
    </table>
</div>
{% if boxscore['basicGameData']['isGameActivated'] %}
<div class="row">
    <div class="col">
    {% if boxscore['basicGameData']['period']['isHalftime'] %}
        Halftime
    {% elif boxscore['basicGameData']['period']['isEndOfPeriod'] %}
        End of period {{boxscore['basicGameData']['period']['current']}}
    {% else %}
        {{boxscore['basicGameData']['clock']}} in period {{boxscore['basicGameData']['period']['current']}}
    {% endif %}
    </div>
</div>
{% endif %}
<div class="container">
{% for teamType, teamId, triCode in [('vTeam', boxscore['basicGameData']['vTeam']['teamId'], boxscore['basicGameData']['vTeam']['triCode']),
                                     ('hTeam', boxscore['basicGameData']['hTeam']['teamId'], boxscore['basicGameData']['hTeam']['triCode'])] %}
    <h2>{{ triCode }}</h2>
    <table class="table table-sm table-striped table-responsive">
        <tr>
            <th>PLAYER</th>
            <th>POS</th>
            <th>MIN</th>
            <th>FGM</th>
            <th>FGA</th>
            <th>FG%</th>
            <th>FTM</th>
            <th>FTA</th>
            <th>FT%</th>
            <th>3PM</th>
            <th>3PA</th>
            <th>3P%</th>
            <th>OREB</th>
            <th>DREB</th>
            <th>REB</th>
            <th>AST</th>
            <th>STL</th>
            <th>BLK</th>
            <th>TO</th>
            <th>PF</th>
            <th>+/-</th>
            <th>PTS</th>
        </tr>
        {% for player in boxscore['stats']['activePlayers'] if player['teamId'] == teamId %}
        <tr>
            <td>
                {{player['playerName']}}
            </td>
            <td>
                {{player['pos']}}
            </td>
            <td>
                {{player['min']}}
            </td>
            <td>
                {{player['fgm']}}
            </td>
            <td>
                {{player['fga']}}
            </td>
            <td>
                {{player['fgp']}}
            </td>
            <td>
                {{player['ftm']}}
            </td>
            <td>
                {{player['fta']}}
            </td>
            <td>
                {{player['ftp']}}
            </td>
            <td>
                {{player['tpm']}}
            </td>
            <td>
                {{player['tpa']}}
            </td>
            <td>
                {{player['tpp']}}
            </td>
            <td>
                {{player['offReb']}}
            </td>
            <td>
                {{player['defReb']}}
            </td>
            <td>
                {{player['totReb']}}
            </td>
            <td>
                {{player['assists']}}
            </td>
            <td>
                {{player['steals']}}
            </td>
            <td>
                {{player['blocks']}}
            </td>
            <td>
                {{player['turnovers']}}
            </td>
            <td>
                {{player['pFouls']}}
            </td>
            <td>
                {{player['plusMinus']}}
            </td>
            <td>
                {{player['points']}}
            </td>
        </tr>
    {% endfor %}
        <tr style="font-weight: bold;">
            <td>
            </td>
            <td>
            </td>
            <td>
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fgm']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fga']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fgp']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['ftm']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['fta']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['ftp']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['tpm']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['tpa']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['tpp']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['offReb']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['defReb']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['totReb']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['assists']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['steals']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['blocks']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['turnovers']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['pFouls']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['plusMinus']}}
            </td>
            <td>
                {{boxscore['stats'][teamType]['totals']['points']}}
            </td>
        </tr>
    </table>
{% endfor %}
</div>
